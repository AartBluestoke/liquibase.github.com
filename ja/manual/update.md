====== データベースの更新 ======

LiquiBase によって、あなたとほかの開発者が変更ログファイルに追加した変更をデータベースに適用できます。


===== どのように変更セットが記録されるか =====

それぞれの [[changeset | 変更セット]] は、"id" と "author" 属性を持っており、変更ログファイルのディレクトリとファイル名とあわせて、一意に決められます。

LiquiBase は、変更ログから変更セットを逐次読み込み、//DatabaseChangeLog// テーブルに格納された値と属性を比較します。もし、属性がテーブルに存在しなかったら、変更セットが適用されあらたな行が //DatabaseChangeLog// テーブルに属性と変更セットの MD5Sum ハッシュ値とともに追加されます。

もし、属性がすでに //DatabaseChangeLog//テーブルに存在していたら、変更セットの MD5Sum 値がデータベースのそれと比較されます。異なっている場合は、LiquiBase はエラーをスローして、誰かが予期せぬ変更をしたことを警告するか、//runOnChange// [[changeset | 変更セット]]属性に基づいて再実行します。

===== 更新を制御する =====

未適用の変更セットを適用するのに、2つのモードがあります:
  - "update" これは、すべての未適用の変更を適用
  - "updateCount" これは、指定された数だけの未適用の変更を適用

===== SQL 更新モード =====

変更セットを直接データベースに適用する代わりに、必要な [[sql_output | SQL を保存して]]レビューの後に適用が可能です。